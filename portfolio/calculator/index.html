<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kawaii Calculator ‚ú®</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins:wght@400;600&family=Nunito:wght@400;700&display=swap');

		:root {
			--bg-1: #ffe6f2;
			--bg-2: #e6e6ff;
			--card: rgba(255, 255, 255, 0.75);
			--card-border: rgba(255, 182, 193, 0.8);
			--text: #4a3d4f;
			--num: linear-gradient(135deg, #ffd6e7, #ffeef6);
			--op: linear-gradient(135deg, #e9e5ff, #f2f0ff);
			--accent: linear-gradient(135deg, #ff87b7, #ff5fa2);
			--muted: linear-gradient(135deg, #ffe7f4, #fff3fa);
			--shadow: 0 15px 35px rgba(255, 105, 180, 0.3);
			--sparkle: #ffd700;
		}

		@keyframes sparkle {
			0%, 100% { transform: scale(0) rotate(0deg); opacity: 0; }
			50% { transform: scale(1) rotate(180deg); opacity: 1; }
		}

		@keyframes bounce {
			0%, 20%, 50%, 80%, 100% { transform: translateY(0) scale(1); }
			40% { transform: translateY(-8px) scale(1.05); }
			60% { transform: translateY(-4px) scale(1.02); }
		}

		@keyframes confetti {
			0% { transform: translateY(0) rotate(0deg); opacity: 1; }
			100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
		}

		@keyframes heart {
			0% { transform: scale(0) rotate(0deg); opacity: 1; }
			50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
			100% { transform: scale(0) rotate(360deg); opacity: 0; }
		}
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Fredoka', 'Poppins', 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
		}
        
		body {
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 100vh;
			background: radial-gradient(1200px 800px at 10% 10%, var(--bg-1), transparent 70%),
				radial-gradient(1200px 800px at 90% 90%, var(--bg-2), transparent 70%),
				linear-gradient(135deg, #fff0f7 0%, #f1f0ff 100%);
			padding: 20px;
		}
        
		.header {
			text-align: center;
			margin-bottom: 20px;
			position: relative;
		}

		.header h1 {
			font-family: 'Fredoka', cursive;
			font-size: 2.2rem;
			font-weight: 600;
			background: linear-gradient(135deg, #ff87b7, #b19cd9, #87ceeb);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			text-shadow: 0 2px 4px rgba(255, 105, 180, 0.3);
			position: relative;
		}

		.sparkle {
			position: absolute;
			color: var(--sparkle);
			font-size: 1.5rem;
			animation: sparkle 2s infinite;
		}

		.sparkle:nth-child(1) { top: -5px; left: 20px; animation-delay: 0s; }
		.sparkle:nth-child(2) { top: 10px; right: 30px; animation-delay: 0.5s; }
		.sparkle:nth-child(3) { bottom: -5px; left: 50px; animation-delay: 1s; }
		.sparkle:nth-child(4) { bottom: 5px; right: 20px; animation-delay: 1.5s; }

		.calculator {
			background: var(--card);
			backdrop-filter: blur(15px);
			-webkit-backdrop-filter: blur(15px);
			border-radius: 28px;
			border: 3px solid var(--card-border);
			box-shadow: var(--shadow);
			width: 360px;
			overflow: hidden;
			padding: 20px;
		}
        
		.display {
			background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
			color: var(--text);
			text-align: right;
			padding: 18px 20px;
			font-size: 2.2rem;
			height: 90px;
			overflow: hidden;
			text-overflow: ellipsis;
			border-radius: 16px;
			border: 1px solid rgba(255, 182, 193, 0.5);
			box-shadow: inset 0 2px 8px rgba(255, 182, 193, 0.25);
			letter-spacing: 1px;
		}
        
		.buttons {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 10px;
			background: transparent;
			margin-top: 12px;
		}
        
		button {
			border: none;
			outline: none;
			padding: 18px;
			font-size: 1.4rem;
			cursor: pointer;
			border-radius: 18px;
			transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 6px 14px rgba(255, 105, 180, 0.12);
			position: relative;
			overflow: hidden;
		}

		button:hover {
			transform: translateY(-3px) scale(1.02);
			filter: brightness(1.05) saturate(1.1);
			box-shadow: 0 12px 24px rgba(255, 105, 180, 0.25);
		}

		button:active {
			transform: translateY(1px) scale(0.98);
			box-shadow: 0 4px 8px rgba(255, 105, 180, 0.2) inset;
			animation: bounce 0.3s ease;
		}

		.celebration {
			position: absolute;
			pointer-events: none;
			z-index: 1000;
		}

		.confetti {
			position: absolute;
			width: 8px;
			height: 8px;
			background: linear-gradient(45deg, #ff87b7, #b19cd9, #87ceeb, #ffd700);
			animation: confetti 1.5s ease-out forwards;
		}

		.heart {
			position: absolute;
			color: #ff69b4;
			font-size: 1.2rem;
			animation: heart 1s ease-out forwards;
		}
        
		.number {
			background: var(--num);
			color: #5a4b55;
		}
        
		.operator {
			background: var(--op);
			color: #6b61b6;
			font-weight: 700;
		}
        
		.equals {
			background: var(--accent);
			color: white;
			font-weight: 700;
			box-shadow: 0 10px 20px rgba(255, 95, 162, 0.35);
		}
        
		.clear, .backspace {
			background: var(--muted);
			color: #8a6a7b;
			font-weight: 600;
		}
        
        .zero {
            grid-column: span 2;
        }

		button:focus-visible {
			outline: 3px solid rgba(255, 143, 191, 0.65);
			outline-offset: 2px;
		}

		.sound-wave {
			position: absolute;
			top: 50%;
			left: 50%;
			width: 4px;
			height: 4px;
			background: rgba(255, 105, 180, 0.6);
			border-radius: 50%;
			transform: translate(-50%, -50%);
			animation: soundWave 0.3s ease-out;
		}

		@keyframes soundWave {
			0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
			100% { transform: translate(-50%, -50%) scale(20); opacity: 0; }
		}
    </style>
</head>
<body>
    <div class="header">
        <h1>Kawaii Calculator ‚ú®</h1>
        <div class="sparkle">‚ú®</div>
        <div class="sparkle">üíñ</div>
        <div class="sparkle">‚≠ê</div>
        <div class="sparkle">üéÄ</div>
    </div>
    
    <div class="calculator">
        <div class="display" id="display">0</div>
        <div class="buttons">
            <button class="clear" onclick="clearDisplay()">‚ú®</button>
            <button class="backspace" onclick="backspace()">‚å´</button>
            <button class="operator" onclick="appendOperation('%')">%</button>
            <button class="operator" onclick="appendOperation('/')">√∑</button>
            
            <button class="number" onclick="appendNumber('7')">7</button>
            <button class="number" onclick="appendNumber('8')">8</button>
            <button class="number" onclick="appendNumber('9')">9</button>
            <button class="operator" onclick="appendOperation('*')">√ó</button>
            
            <button class="number" onclick="appendNumber('4')">4</button>
            <button class="number" onclick="appendNumber('5')">5</button>
            <button class="number" onclick="appendNumber('6')">6</button>
            <button class="operator" onclick="appendOperation('-')">-</button>
            
            <button class="number" onclick="appendNumber('1')">1</button>
            <button class="number" onclick="appendNumber('2')">2</button>
            <button class="number" onclick="appendNumber('3')">3</button>
            <button class="operator" onclick="appendOperation('+')">+</button>
            
            <button class="number zero" onclick="appendNumber('0')">0</button>
            <button class="number" onclick="appendNumber('.')">.</button>
            <button class="equals" onclick="calculate()">üíñ</button>
        </div>
    </div>

    <script>
        let currentInput = '0';
        let previousInput = '';
        let operation = null;
        let resetScreen = false;
        
        const display = document.getElementById('display');
        
        // Sound effect function
        function playClickSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }
        
        // Celebration effects
        function createConfetti(button) {
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 12; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = centerX + 'px';
                confetti.style.top = centerY + 'px';
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 1500);
            }
        }
        
        function createHearts(button) {
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = 'üíñ';
                heart.style.left = centerX + 'px';
                heart.style.top = centerY + 'px';
                heart.style.animationDelay = Math.random() * 0.3 + 's';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 1000);
            }
        }
        
        function createSoundWave(button) {
            const rect = button.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            const wave = document.createElement('div');
            wave.className = 'sound-wave';
            wave.style.left = centerX + 'px';
            wave.style.top = centerY + 'px';
            document.body.appendChild(wave);
            
            setTimeout(() => wave.remove(), 300);
        }
        
        function updateDisplay() {
            display.textContent = currentInput;
        }
        
        function appendNumber(number) {
            if (currentInput === '0' || resetScreen) {
                currentInput = number;
                resetScreen = false;
            } else {
                // Prevent multiple decimal points
                if (number === '.' && currentInput.includes('.')) return;
                currentInput += number;
            }
            updateDisplay();
            playClickSound();
        }
        
        function appendOperation(op) {
            if (operation !== null) calculate();
            previousInput = currentInput;
            operation = op;
            resetScreen = true;
            playClickSound();
        }
        
        function calculate() {
            if (operation === null || resetScreen) return;
            
            let result;
            const prev = parseFloat(previousInput);
            const current = parseFloat(currentInput);
            
            switch(operation) {
                case '+':
                    result = prev + current;
                    break;
                case '-':
                    result = prev - current;
                    break;
                case '*':
                    result = prev * current;
                    break;
                case '/':
                    if (current === 0) {
                        alert("Cannot divide by zero!");
                        clearDisplay();
                        return;
                    }
                    result = prev / current;
                    break;
                case '%':
                    result = prev % current;
                    break;
                default:
                    return;
            }
            
            currentInput = result.toString();
            operation = null;
            previousInput = '';
            resetScreen = true;
            updateDisplay();
            
            // Celebration effects for equals button
            const equalsButton = document.querySelector('.equals');
            createConfetti(equalsButton);
            createHearts(equalsButton);
            playClickSound();
        }
        
        function clearDisplay() {
            currentInput = '0';
            previousInput = '';
            operation = null;
            updateDisplay();
            playClickSound();
        }
        
        function backspace() {
            if (currentInput.length === 1) {
                currentInput = '0';
            } else {
                currentInput = currentInput.slice(0, -1);
            }
            updateDisplay();
            playClickSound();
        }
        
        // Initialize display
        updateDisplay();
    </script>
</body>
</html>